{"version":3,"sources":["webpack:///./src/views/main/system/user/user.vue?ac3b","webpack:///./src/views/main/system/user/config/search.config.ts","webpack:///./src/views/main/system/user/config/content.config.ts","webpack:///./src/views/main/system/user/config/modal.config.ts","webpack:///./src/views/main/system/user/user.vue","webpack:///./src/views/main/system/user/user.vue?b766","webpack:///../node_modules/.pnpm/core-js@3.19.0/node_modules/core-js/modules/es.array.map.js"],"names":["_hoisted_1","class","render","_ctx","_cache","$props","$setup","$data","$options","_component_PageSearch","_component_PageContent","_component_PageModal","formConfig","onQueryBtnClick","handleQueryClick","onResetBtnClick","ref","contentConfig","pageName","onEditBtnClick","handleEditData","onNewBtnClick","handleNewData","defaultInfo","modalConfig","modalConfigRef","onAfterCreateData","handleResetClick","onAfterdeleteData","labelWidth","itemStyle","padding","colLayout","xl","lg","md","sm","xs","formItems","field","label","placeholder","type","options","value","otherOptions","startPlaceholder","endPlaceholder","showIndexColumn","title","propsList","prop","minWidth","slotName","span","isHidden","name","components","PageSearch","PageContent","PageModal","setup","pageContentRef","departmentList","roleList","departmentItem","find","item","map","id","roleItem","getInitData","offset","size","departmentResult","data","list","roleResult","newCallback","passwordItem","editCallback","pageModalRef","__exports__","$","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","this","arguments","length","undefined"],"mappings":"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","file":"js/chunk-94f188aa.8bcad0da.js","sourcesContent":["import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"user\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_PageSearch = _resolveComponent(\"PageSearch\")!\n  const _component_PageContent = _resolveComponent(\"PageContent\")!\n  const _component_PageModal = _resolveComponent(\"PageModal\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_PageSearch, {\n      formConfig: _ctx.formConfig,\n      onQueryBtnClick: _ctx.handleQueryClick,\n      onResetBtnClick: _ctx.handleQueryClick\n    }, null, 8, [\"formConfig\", \"onQueryBtnClick\", \"onResetBtnClick\"]),\n    _createVNode(_component_PageContent, {\n      ref: \"pageContentRef\",\n      contentConfig: _ctx.contentConfig,\n      pageName: \"users\",\n      onEditBtnClick: _ctx.handleEditData,\n      onNewBtnClick: _ctx.handleNewData\n    }, null, 8, [\"contentConfig\", \"onEditBtnClick\", \"onNewBtnClick\"]),\n    _createVNode(_component_PageModal, {\n      ref: \"pageModalRef\",\n      pageName: \"users\",\n      defaultInfo: _ctx.defaultInfo,\n      modalConfig: _ctx.modalConfigRef,\n      onAfterCreateData: _ctx.handleResetClick,\n      onAfterdeleteData: _ctx.handleResetClick\n    }, null, 8, [\"defaultInfo\", \"modalConfig\", \"onAfterCreateData\", \"onAfterdeleteData\"])\n  ]))\n}","import { IForm } from '@vonor/ui'\n\nexport const formConfig: IForm = {\n  labelWidth: '100px',\n  itemStyle: { padding: '10px 40px' },\n  colLayout: {\n    xl: 6, // 24/6 = 4 1920為一排4個\n    lg: 8,\n    md: 12,\n    sm: 24,\n    xs: 24\n  },\n  formItems: [\n    // {\n    //   field: 'id',\n    //   label: 'id',\n    //   placeholder: '請輸入id'\n    // },\n    {\n      field: 'name',\n      label: '用戶名',\n      placeholder: '請輸入用戶名'\n    },\n    {\n      field: 'realname',\n      label: '真實姓名',\n      placeholder: '請輸入真實姓名'\n    },\n    {\n      field: 'cellphone',\n      label: '電話號碼',\n      placeholder: '請輸入電話號碼'\n    },\n    {\n      field: 'enable',\n      type: 'select',\n      label: '用戶狀態',\n      placeholder: '請選擇用戶狀態',\n      options: [\n        {\n          label: '啟用',\n          value: 1\n        },\n        {\n          label: '禁用',\n          value: 0\n        }\n      ]\n    },\n    {\n      field: 'createAt',\n      type: 'datepicker',\n      label: '創建時間',\n      otherOptions: {\n        startPlaceholder: '開始時間',\n        endPlaceholder: '結束時間',\n        type: 'daterange'\n      }\n    }\n  ]\n}\n","export const contentConfig = {\n  showIndexColumn: true,\n  // showSelectColum: true,\n  title: '用戶列表',\n  propsList: [\n    {\n      prop: 'name',\n      label: '用戶名',\n      minWidth: '100'\n    },\n    {\n      prop: 'realname',\n      label: '真實姓名',\n      minWidth: '100'\n    },\n    {\n      prop: 'cellphone',\n      label: '手機號碼',\n      minWidth: '100'\n    },\n    {\n      prop: 'enable',\n      label: '狀態',\n      minWidth: '100',\n      slotName: 'status'\n    },\n    {\n      prop: 'createAt',\n      label: '創建時間',\n      minWidth: '250',\n      slotName: 'createAt'\n    },\n    {\n      prop: 'updateAt',\n      label: '更新時間',\n      minWidth: '250',\n      slotName: 'updateAt'\n    },\n    {\n      label: '操作',\n      minWidth: '120',\n      slotName: 'handler'\n    }\n  ]\n}\n","import { IForm } from '@vonor/ui'\n\nexport const modalConfig: IForm = {\n  itemStyle: {},\n  colLayout: {\n    span: 24\n  },\n  formItems: [\n    {\n      field: 'name',\n      label: '用戶名',\n      placeholder: '請輸入用戶名'\n    },\n    {\n      field: 'realname',\n      label: '真實性名',\n      placeholder: '請輸入真實性名'\n    },\n    {\n      field: 'password',\n      type: 'password',\n      label: '密碼',\n      placeholder: '請輸入密碼',\n      isHidden: true\n    },\n    {\n      field: 'cellphone',\n      label: '電話號碼',\n      placeholder: '請輸入電話號碼'\n    },\n    {\n      field: 'departmentId',\n      label: '部門',\n      placeholder: '請選擇部門',\n      type: 'select',\n      options: []\n    },\n    {\n      field: 'roleId',\n      label: '權限',\n      placeholder: '請選擇權限',\n      type: 'select',\n      options: []\n    }\n  ]\n}\n","\nimport { defineComponent, ref, watch } from 'vue'\n\nimport PageSearch from '@/components/page-search'\nimport PageContent from '@/components/page-content'\nimport PageModal from '@/components/page-modal'\n\nimport usePageSearch from '@/hook/use-page-search'\nimport usePageModal from '@/hook/use-page-modal'\n\nimport { formConfig } from './config/search.config'\nimport { contentConfig } from './config/content.config'\nimport { modalConfig } from './config/modal.config'\n\nimport { getPageListData } from '@/service/main/main'\n\nexport default defineComponent({\n  name: 'user',\n  components: {\n    PageSearch,\n    PageContent,\n    PageModal\n  },\n  setup() {\n    const { pageContentRef, handleResetClick, handleQueryClick } = usePageSearch()\n\n    // 動態添加部門角色列表\n    const departmentList = ref<any[]>([])\n    const roleList = ref<any[]>([])\n    const modalConfigRef = ref(modalConfig)\n\n    watch(\n      () => departmentList.value,\n      () => {\n        const departmentItem = modalConfigRef.value.formItems.find((item) => {\n          return item.field === 'departmentId'\n        })\n        if (departmentItem) {\n          departmentItem.options = departmentList.value.map((item) => {\n            return { label: item.name, value: item.id }\n          })\n        }\n      }\n    )\n    watch(\n      () => roleList.value,\n      () => {\n        const roleItem = modalConfigRef.value.formItems.find((item) => {\n          return item.field === 'roleId'\n        })\n        if (roleItem) {\n          roleItem.options = roleList.value.map((item) => {\n            return { label: item.name, value: item.id }\n          })\n        }\n      }\n    )\n\n    // 編輯與新增按鈕點擊回調 編輯按鈕去除密碼欄位\n    const getInitData = async () => {\n      const departmentResult = await getPageListData('/department/list', {\n        offset: 0,\n        size: 1000\n      })\n      departmentList.value = departmentResult.data.list\n      const roleResult = await getPageListData('/role/list', {\n        offset: 0,\n        size: 1000\n      })\n      roleList.value = roleResult.data.list\n    }\n    const newCallback = () => {\n      const passwordItem = modalConfigRef.value.formItems.find((item) => item.field === 'password')\n      if (passwordItem) passwordItem.isHidden = false\n      getInitData()\n    }\n    const editCallback = () => {\n      const passwordItem = modalConfigRef.value.formItems.find((item) => item.field === 'password')\n      if (passwordItem) passwordItem.isHidden = true\n      getInitData()\n    }\n    const { pageModalRef, handleNewData, handleEditData, defaultInfo } = usePageModal(\n      newCallback,\n      editCallback\n    )\n\n    return {\n      formConfig,\n      contentConfig,\n      modalConfigRef,\n      handleResetClick,\n      handleQueryClick,\n      pageContentRef,\n      pageModalRef,\n      handleNewData,\n      handleEditData,\n      defaultInfo\n    }\n  }\n})\n","import { render } from \"./user.vue?vue&type=template&id=3dc29855&ts=true\"\nimport script from \"./user.vue?vue&type=script&lang=ts\"\nexport * from \"./user.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/home/runner/work/vonor/vonor/node_modules/.pnpm/vue-loader@16.8.2_webpack@4.46.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}