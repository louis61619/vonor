(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4b05c8ec"],{3573:function(e,t,n){"use strict";var o=n("7574"),r={class:"content"},a=Object(o["createTextVNode"])(" 新建數據 "),c={class:"handler-btns"},i=Object(o["createTextVNode"])(" 修改 "),s=Object(o["createTextVNode"])(" 刪除 ");function l(e,t,n,l,u,d){var p=Object(o["resolveComponent"])("el-button"),f=Object(o["resolveComponent"])("BaseTable");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",r,[Object(o["createVNode"])(f,Object(o["mergeProps"])(e.contentConfig,{list:e.datalist,listCount:e.totalCount,page:e.page,"onUpdate:page":t[0]||(t[0]=function(t){return e.page=t})}),Object(o["createSlots"])({headerHandler:Object(o["withCtx"])((function(){return[e.isCreate?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0,type:"primary",size:"medium",onClick:e.handleNewClick},{default:Object(o["withCtx"])((function(){return[a]})),_:1},8,["onClick"])):Object(o["createCommentVNode"])("",!0)]})),status:Object(o["withCtx"])((function(e){return[Object(o["createVNode"])(p,{plain:"",size:"mini",type:e.row.enable?"success":"danger"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.row.enable?"啟用":"禁用"),1)]})),_:2},1032,["type"])]})),createAt:Object(o["withCtx"])((function(t){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$filter.formateTime(t.row.createAt)),1)]})),updateAt:Object(o["withCtx"])((function(t){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$filter.formateTime(t.row.updateAt)),1)]})),handler:Object(o["withCtx"])((function(t){return[Object(o["createElementVNode"])("div",c,[e.isUpdate?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0,icon:"el-icon-edit",size:"mini",type:"text",onClick:function(n){return e.handleEditClick(t.row)}},{default:Object(o["withCtx"])((function(){return[i]})),_:2},1032,["onClick"])):Object(o["createCommentVNode"])("",!0),e.isDelete?(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:1,icon:"el-icon-delete",size:"mini",type:"text",onClick:function(n){return e.handleDeleteClick(t.row)}},{default:Object(o["withCtx"])((function(){return[s]})),_:2},1032,["onClick"])):Object(o["createCommentVNode"])("",!0)])]})),_:2},[Object(o["renderList"])(e.otherSlotProps,(function(t){return{name:t.slotName,fn:Object(o["withCtx"])((function(n){return[Object(o["renderSlot"])(e.$slots,t.slotName,{row:n.row},void 0,!0)]}))}}))]),1040,["list","listCount","page"])])}n("9adc");var u=n("c427"),d=n.n(u),p=n("c6d1"),f=n("f79b"),m=(n("17e4"),n("bd50"),n("8bb4"),n("802f")),b=(n("0f5e"),n("0613"));function g(e,t){var n=Object(b["c"])(),o=n.state.login.permissions,r="system:".concat(e,":").concat(t);return!!o.find((function(e){return e===r}))}var v=n("2ba5"),C=Object(o["defineComponent"])({components:{BaseTable:v["h"]},props:{contentConfig:{type:Object,required:!0},pageName:{type:String,required:!0},showCreateButton:{type:Boolean,default:!0}},emits:["newBtnClick","editBtnClick"],setup:function(e,t){var n,r=t.emit,a=Object(o["ref"])([]),c=Object(o["ref"])(0),i=Object(o["ref"])({pageSize:10,currentPage:1}),s=g(e.pageName,"create"),l=g(e.pageName,"update"),u=g(e.pageName,"query"),b=g(e.pageName,"delete"),v=function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(){var n,o,r,s,l,f,b=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=b.length>0&&void 0!==b[0]?b[0]:{},u){t.next=3;break}return t.abrupt("return");case 3:return a.value=[],o="/".concat(e.pageName,"/list"),t.next=7,Object(m["c"])(o,Object(p["a"])({offset:(i.value.currentPage-1)*i.value.pageSize,size:i.value.pageSize},n));case 7:r=t.sent,null!==r&&void 0!==r&&r.data?(s=r.data,l=s.list,f=s.totalCount,a.value=l,c.value=f):d.a.error("請求失敗");case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(o["watchEffect"])((function(){(i.value.currentPage||i.value.pageSize)&&v()}));var C=null===(n=e.contentConfig)||void 0===n?void 0:n.propsList.filter((function(e){return"status"!==e.slotName&&("createAt"!==e.slotName&&("updateAt"!==e.slotName&&("handler"!==e.slotName&&(!!e.slotName||void 0))))})),y=function(e){r("newBtnClick",e)},h=function(e){r("editBtnClick",e)},O=function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(n){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return o="".concat(e.pageName,"/").concat(n.id),t.next=3,Object(m["b"])(o);case 3:v();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return{datalist:a,getPageData:v,page:i,totalCount:c,otherSlotProps:C,isCreate:s,isUpdate:l,isDelete:b,isQuery:u,handleEditClick:h,handleDeleteClick:O,handleNewClick:y}}}),y=(n("5600"),n("d8d3")),h=n.n(y);const O=h()(C,[["render",l],["__scopeId","data-v-84f1e57c"]]);var j=O;t["a"]=j},4475:function(e,t,n){},5600:function(e,t,n){"use strict";n("4475")},"802f":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return i}));var o=n("6022");function r(e,t){return o["a"].post({url:e,data:t,showLoading:!1})}function a(e){return o["a"].delete({url:e,showLoading:!1})}function c(e,t){return o["a"].post({url:e,data:t})}function i(e,t){return o["a"].patch({url:e,data:t})}},"9adc":function(e,t,n){},ab96:function(e,t,n){"use strict";n.r(t);var o=n("7574"),r={class:"user"};function a(e,t,n,a,c,i){var s=Object(o["resolveComponent"])("PageContent");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",r,[Object(o["createVNode"])(s,{ref:"pageContentRef",contentConfig:e.contentConfig,pageName:"menu",showCreateButton:!1},null,8,["contentConfig"])])}var c=n("3573"),i={title:"菜單列表",showFooter:!1,propsList:[{prop:"name",label:"菜單名稱",minWidth:"200"},{prop:"type",label:"類型",minWidth:"60"},{prop:"url",label:"菜單url",minWidth:"100"},{prop:"icon",label:"菜單icon",minWidth:"100"},{prop:"createAt",label:"創建時間",minWidth:"250",slotName:"createAt"},{prop:"updateAt",label:"更新時間",minWidth:"250",slotName:"updateAt"}],childrenProps:{rowKey:"id",treeProp:{children:"children"}}},s=Object(o["defineComponent"])({name:"role",components:{PageContent:c["a"]},setup:function(){var e=Object(o["ref"])(),t=function(){var t;null===(t=e.value)||void 0===t||t.getPageData()},n=function(t){var n;null===(n=e.value)||void 0===n||n.getPageData(t)};return{contentConfig:i,handleResetClick:t,handleQueryClick:n,pageContentRef:e}}}),l=n("d8d3"),u=n.n(l);const d=u()(s,[["render",a]]);t["default"]=d},c427:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("7574"),r=n("0c54"),a=n("f6e0"),c=n("aed1");function i(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}n("db33");var s=i(a),l=i(c);const u={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace"},d=function(e,t,n,o=!1){e&&t&&n&&e.addEventListener(t,n,o)},p=function(e,t,n,o=!1){e&&t&&n&&e.removeEventListener(t,n,o)},f={success:"success",info:"info",warning:"warning",error:"error"};var m=o.defineComponent({name:"ElMessage",props:{customClass:{type:String,default:""},center:{type:Boolean,default:!1},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:3e3},iconClass:{type:String,default:""},id:{type:String,default:""},message:{type:[String,Object],default:""},onClose:{type:Function,required:!0},showClose:{type:Boolean,default:!1},type:{type:String,default:"info"},offset:{type:Number,default:20},zIndex:{type:Number,default:0}},emits:["destroy"],setup(e){const t=o.computed(()=>{const t=!e.iconClass&&e.type;return t&&f[t]?"el-icon-"+f[t]:""}),n=o.computed(()=>({top:e.offset+"px",zIndex:e.zIndex})),r=o.ref(!1);let a=null;function c(){e.duration>0&&(a=setTimeout(()=>{r.value&&s()},e.duration))}function i(){clearTimeout(a),a=null}function s(){r.value=!1}function l({code:e}){e===u.esc?r.value&&s():c()}return o.onMounted(()=>{c(),r.value=!0,d(document,"keydown",l)}),o.onBeforeUnmount(()=>{p(document,"keydown",l)}),{typeClass:t,customStyle:n,visible:r,close:s,clearTimer:i,startTimer:c}}});const b={key:0,class:"el-message__content"};function g(e,t,n,r,a,c){return o.openBlock(),o.createBlock(o.Transition,{name:"el-message-fade",onBeforeLeave:e.onClose,onAfterLeave:t[4]||(t[4]=t=>e.$emit("destroy"))},{default:o.withCtx(()=>[o.withDirectives(o.createVNode("div",{id:e.id,class:["el-message",e.type&&!e.iconClass?"el-message--"+e.type:"",e.center?"is-center":"",e.showClose?"is-closable":"",e.customClass],style:e.customStyle,role:"alert",onMouseenter:t[2]||(t[2]=(...t)=>e.clearTimer&&e.clearTimer(...t)),onMouseleave:t[3]||(t[3]=(...t)=>e.startTimer&&e.startTimer(...t))},[e.type||e.iconClass?(o.openBlock(),o.createBlock("i",{key:0,class:["el-message__icon",e.typeClass,e.iconClass]},null,2)):o.createCommentVNode("v-if",!0),o.renderSlot(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(o.openBlock(),o.createBlock(o.Fragment,{key:1},[o.createCommentVNode(" Caution here, message could've been compromised, never use user's input as message "),o.createCommentVNode("  eslint-disable-next-line "),o.createVNode("p",{class:"el-message__content",innerHTML:e.message},null,8,["innerHTML"])],2112)):(o.openBlock(),o.createBlock("p",b,o.toDisplayString(e.message),1))]),e.showClose?(o.openBlock(),o.createBlock("div",{key:1,class:"el-message__closeBtn el-icon-close",onClick:t[1]||(t[1]=o.withModifiers((...t)=>e.close&&e.close(...t),["stop"]))})):o.createCommentVNode("v-if",!0)],46,["id"]),[[o.vShow,e.visible]])]),_:3},8,["onBeforeLeave"])}m.render=g,m.__file="packages/message/src/index.vue";var v=Object.defineProperty,C=Object.defineProperties,y=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,w=(e,t,n)=>t in e?v(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,k=(e,t)=>{for(var n in t||(t={}))O.call(t,n)&&w(e,n,t[n]);if(h)for(var n of h(t))j.call(t,n)&&w(e,n,t[n]);return e},N=(e,t)=>C(e,y(t));const B=[];let x=1;const S=function(e={}){if(l["default"])return;"string"===typeof e&&(e={message:e});let t=e,n=e.offset||20;B.forEach(({vm:e})=>{n+=(e.el.offsetHeight||0)+16}),n+=16;const a="message_"+x++,c=t.onClose;t=N(k({},t),{onClose:()=>{T(a,c)},offset:n,id:a,zIndex:s["default"].nextZIndex()});const i=document.createElement("div");i.className="container_"+a;const u=t.message,d=o.createVNode(m,t,r.isVNode(t.message)?{default:()=>u}:null);return d.props.onDestroy=()=>{o.render(null,i)},o.render(d,i),B.push({vm:d}),document.body.appendChild(i.firstElementChild),{close:()=>d.component.proxy.visible=!1}};function T(e,t){const n=B.findIndex(({vm:t})=>{const{id:n}=t.component.props;return e===n});if(-1===n)return;const{vm:o}=B[n];if(!o)return;null==t||t(o);const r=o.el.offsetHeight;B.splice(n,1);const a=B.length;if(!(a<1))for(let c=n;c<a;c++){const e=parseInt(B[c].vm.el.style["top"],10)-r-16;B[c].vm.component.props.offset=e}}function _(){for(let e=B.length-1;e>=0;e--){const t=B[e].vm.component;t.ctx.close()}}["success","warning","info","error"].forEach(e=>{S[e]=t=>("string"===typeof t?t={message:t,type:e}:t.type=e,S(t))}),S.closeAll=_;const V=S;V.install=e=>{e.config.globalProperties.$message=V},t.default=V}}]);
//# sourceMappingURL=chunk-4b05c8ec.7be99baf.js.map